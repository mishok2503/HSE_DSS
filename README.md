# Key value store

**Тут описание архитектуры**

Хотим посчитать - кол-во шардов, отношение ssd/hdd, как часто пересчитывать фильтр, параметры мап. как часто умирает ssd


Заметки:  
  Наша основная цель -- перфоманс  
  Поэтому нет сжатия, поэтому не очень хорошая отказоустойчивость  
  Для каждого шарда храним свой фильтр(идеальная парралельность).  
  Для лучшего распределения ключей, будем шардить по их хэшам ключей.  
  Размер данных ~ размер страницы => пишем сначала в удалённые  
  фильтр - блум, так как он по перфомансу быстрее + мало памяти  
  балансировка шардов - если максимум отклонений от среднего слишком большой - перестраиваем вообще все шарды(полная перестройка)  
  В SSD - "горячие" файлы
